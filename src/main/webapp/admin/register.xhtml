<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>Inscription - Espace Client</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet" />
</h:head>

<h:body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="bg-white shadow-lg rounded-2xl w-full max-w-md overflow-hidden">
        <!-- En-tête -->
        <div class="bg-gradient-to-r from-sky-500 to-sky-300 text-white text-center p-8">
            <h1 class="text-2xl font-semibold mb-1">Créer un compte</h1>
            <p class="text-sm opacity-90">Remplissez le formulaire pour vous inscrire</p>
        </div>

        <!-- Formulaire -->
        <div class="p-8">
            <h:form>
                <!-- Messages globaux -->
                <h:messages globalOnly="true" styleClass="bg-red-50 border border-red-300 text-red-700 p-3 rounded-md mb-4 text-sm w-full" />

                <!-- Nom -->
                <div class="mb-4">
                    <label for="nom" class="block text-gray-700 font-medium mb-2">Nom</label>
                    <h:inputText id="nom" value="#{registerBean.utilisateur.nom}"
                                 required="true" requiredMessage="Le nom est obligatoire."
                                 styleClass="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none"
                                 placeholder="Nom" />
                    <h:message for="nom" styleClass="text-red-600 text-sm mt-1 block"/>
                </div>

                <!-- Prénom -->
                <div class="mb-4">
                    <label for="prenom" class="block text-gray-700 font-medium mb-2">Prénom</label>
                    <h:inputText id="prenom" value="#{registerBean.utilisateur.prenom}"
                                 required="true" requiredMessage="Le prénom est obligatoire."
                                 styleClass="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none"
                                 placeholder="Prénom" />
                    <h:message for="prenom" styleClass="text-red-600 text-sm mt-1 block"/>
                </div>

                <!-- Email -->
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 font-medium mb-2">Adresse Email</label>
                    <h:inputText id="email" value="#{registerBean.utilisateur.email}"
                                 required="true" requiredMessage="L'email est obligatoire."
                                 styleClass="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none"
                                 placeholder="votre@email.com" />
                    <h:message for="email" styleClass="text-red-600 text-sm mt-1 block"/>
                </div>

                <!-- Mot de passe -->
                <div class="mb-6">
                    <label for="motDePasse" class="block text-gray-700 font-medium mb-2">Mot de passe</label>
                    <h:inputSecret id="motDePasse" value="#{registerBean.utilisateur.motDePasse}"
                                   required="true" requiredMessage="Le mot de passe est obligatoire."
                                   styleClass="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:outline-none"
                                   placeholder="••••••••" />
                    <h:message for="motDePasse" styleClass="text-red-600 text-sm mt-1 block"/>
                </div>

                <!-- Le rôle par défaut est CLIENT -->
                <h:inputHidden id="role" value="CLIENT" />

                <!-- Bouton inscription -->
                <h:commandButton value="S'inscrire"
                                 styleClass="w-full bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2.5 rounded-lg shadow-sm transition duration-200"
                                 action="#{registerBean.register}" />

                <!-- Lien connexion -->
                <div class="text-center text-gray-600 text-sm mt-6 border-t pt-4">
                    Vous avez déjà un compte ?
                    <h:link value="Se connecter" outcome="login.xhtml" styleClass="text-sky-600 font-semibold hover:underline ml-1" />
                </div>
            </h:form>
        </div>
    </div>
</h:body>
</html>
